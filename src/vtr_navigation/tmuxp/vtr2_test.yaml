## This file is only here so that we can run quick testing of vtr2.x. Delete
## this once we have vtr3 ready.
## This script is default to running the playback tool.

# The tmux session name, has to be unique
session_name: vtr2

# Hard-coded ros IPs (add these env variables when running on grizzly)
# environment:
#   ROS_IP: 192.168.131.50
#   ROS_MASTER_URI: http://192.168.131.50:11311
#   PRIORITIZE: nice -n -5 ionice -c 2 -n 1

# Can run a script before tmuxp starts building the session
# before_script: /my/startup/script
shell_command_before:
  - "source ~/ASRL/venv/bin/activate"
  - "source ~/ASRL/vtr3/devel/setup.bash"

# The default start directory for the full session, ./ is this file's location
start_directory: ~/ASRL

# Add commands to bash history
suppress_history: false

# This is where we list all the stuff we want to run
windows:
  - window_name: web_ui
    layout: main-horizontal
    panes:
      - sleep 2; rosrun asrl__interface ui_server.py /Navigation:=/ShamNav
      - sleep 2; rosrun asrl__interface socket_server.py /Navigation:=/ShamNav
      - sleep 2; rosrun asrl__interface socket_client.py /Navigation:=/ShamNav
      -  # remote client

  - window_name: vtr2
    layout: main-horizontal
    panes:
      - sleep 1; roslaunch asrl__navigation navigator.xml location:=utias scenario_params:=playback override_data_dir:=true data_dir:=/home/yuchen/ASRL/temp/vtr2_sample_data
      - sleep 1; roslaunch asrl__navigation vtr2_pt.launch
      - sleep 1; roslaunch babelfish_robochunk_translator translator.launch
      - sleep 1; roslaunch asrl__interface Recorder.launch
      - ls

  - window_name: ros
    layout: main-horizontal
    panes:
      - roscore
      - watch -n 1 rostopic list
      - watch -n 1 rosservice list

  - window_name: grizzly
    layout: main-horizontal
    panes:
      - sleep 1; roslaunch asrl__grizzly grizzly_utias_description.launch
